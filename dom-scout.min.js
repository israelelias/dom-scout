!function(){"use strict";if(window.domScoutInstalled){console.log("\uD83D\uDD2D DOM Scout j\xe1 instalado. Pressione Ctrl+F para usar.");return}window.domScoutInstalled=!0;let e=!1,t=[],o=0,a={regex:!1,wholeWords:!1,caseSensitive:!1,accentSensitive:!1,highlightAll:!0,htmlMode:!1,useTemplate:!1},n="domScoutTemplates",i=function e(){try{let t=localStorage.getItem(n);return t?JSON.parse(t):[]}catch(o){return console.error("Erro ao carregar templates:",o),[]}}(),r=null,l=`
        #dom-scout-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 2147483647;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px B(0,0,0,0.3);
            padding: 8px 12px; /* Reduzido */
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            animation: slideDown 0.3s ease-out;
            height: auto;
            max-height: 350px;
            overflow: visible;
        }

        @keyframes slideDown { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        #dom-scout-wrapper { max-width: 1200px; margin: 0 auto; width: 100%; }

        #dom-scout-main {
            display: flex;
            gap: 8px; /* Reduzido */
            align-items: center;
            margin-bottom: 8px; /* Reduzido */
            flex-wrap: wrap;
        }

        #dom-scout-input {
            flex: 1;
            padding: 8px 15px; /* Reduzido */
            border: none;
            border-radius: 20px; /* Reduzido */
            font-size: 14px; /* Reduzido */
            outline: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
            min-width: 200px;
        }
        
        #dom-scout-input:disabled { background-color: #e9ecef; cursor: not-allowed; opacity: 0.7; }
        #dom-scout-input:focus { box-shadow: 0 4px 15px rgba(0,0,0,0.3); transform: scale(1.01); }

        #dom-scout-info {
            color: white;
            font-size: 12px; /* Reduzido */
            min-width: 100px; /* Reduzido */
            text-align: center;
            font-weight: 500;
            padding: 6px 12px; /* Reduzido */
            background: rgba(255,255,255,0.1);
            border-radius: 15px; /* Reduzido */
        }

        .dom-scout-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 6px 12px; /* Reduzido */
            border-radius: 15px; /* Reduzido */
            cursor: pointer;
            font-size: 12px; /* Reduzido */
            transition: all 0.3s;
            font-weight: 500;
            white-space: nowrap;
        }

        .dom-scout-btn:hover { background: rgba(255,255,255,0.35); transform: translateY(-1px); }
        .dom-scout-btn:active { transform: translateY(0); }

        #dom-scout-options { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; } /* Gap Reduzido */

        .dom-scout-option {
            display: flex; align-items: center; gap: 5px; /* Reduzido */
            color: white; font-size: 12px; /* Reduzido */
            cursor: pointer; user-select: none; padding: 3px 6px; /* Reduzido */
            border-radius: 10px; transition: background 0.2s;
        }

        .dom-scout-option:hover { background: rgba(255,255,255,0.1); }
        .dom-scout-option input[type="checkbox"] { cursor: pointer; width: 14px; height: 14px; } /* Reduzido */
        .dom-scout-option.disabled { opacity: 0.5; cursor: not-allowed; }
        .dom-scout-option.disabled input[type="checkbox"] { cursor: not-allowed; }

        /* Estilos de highlight e badges permanecem os mesmos para visibilidade */
        .dom-scout-highlight { outline: 3px solid #ff6b6b !important; outline-offset: 2px; background-color: rgba(255, 107, 107, 0.15) !important; position: relative !important; z-index: 999999 !important; animation: highlightPulse 1.5s ease-in-out infinite; }
        .dom-scout-highlight-current { outline: 5px solid #ffd93d !important; outline-offset: 3px; background-color: rgba(255, 217, 61, 0.25) !important; animation: highlightPulseCurrent 1s ease-in-out infinite; box-shadow: 0 0 20px rgba(255, 217, 61, 0.6) !important; }
        .dom-scout-highlight-star { outline: 4px solid #4ecdc4 !important; outline-offset: 2px; background-color: rgba(78, 205, 196, 0.2) !important; animation: highlightPulseStar 1.5s ease-in-out infinite; }
        @keyframes highlightPulse { 0%, 100% { outline-color: #ff6b6b; } 50% { outline-color: #ff8787; } }
        @keyframes highlightPulseCurrent { 0%, 100% { outline-color: #ffd93d; } 50% { outline-color: #feca57; } }
        @keyframes highlightPulseStar { 0%, 100% { outline-color: #4ecdc4; } 50% { outline-color: #45b8b0; } }
        .dom-scout-badge { position: absolute; top: -12px; right: -12px; background: #ff6b6b; color: white; border-radius: 12px; padding: 4px 8px; font-size: 11px; font-weight: bold; z-index: 10000000; box-shadow: 0 2px 8px rgba(0,0,0,0.3); pointer-events: none; }
        .dom-scout-badge-current { background: #ffd93d; color: #333; font-size: 12px; padding: 5px 10px; animation: badgePulse 1s ease-in-out infinite; }
        .dom-scout-badge-star { background: #4ecdc4; color: white; }
        @keyframes badgePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .dom-scout-action-badge { position: absolute; top: -12px; left: -12px; background: #4ecdc4; color: white; border-radius: 12px; padding: 4px 10px; font-size: 11px; font-weight: bold; z-index: 10000000; box-shadow: 0 2px 8px rgba(0,0,0,0.3); pointer-events: none; animation: actionBadgePulse 1.5s ease-in-out infinite; }
        @keyframes actionBadgePulse { 0%, 100% { background: #4ecdc4; transform: scale(1); } 50% { background: #45b8b0; transform: scale(1.05); } }
        .dom-scout-error { color: #ffcccc; font-size: 12px; margin-top: 5px; }
        .dom-scout-success { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(78, 205, 196, 0.95); color: white; padding: 20px 40px; border-radius: 15px; font-size: 18px; font-weight: bold; z-index: 2147483648; box-shadow: 0 10px 40px rgba(0,0,0,0.3); animation: successPopup 0.3s ease-out; }
        @keyframes successPopup { from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }

        /* Templates Section Compact */
        #dom-scout-templates {
            display: none; margin-top: 8px; /* Reduzido */
            padding: 10px; /* Reduzido */
            border-top: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.1); border-radius: 12px; /* Reduzido */
            animation: expandTemplates 0.3s ease-out;
        }
        #dom-scout-templates.active { display: block; }
        @keyframes expandTemplates { from { opacity: 0; max-height: 0; } to { opacity: 1; max-height: 200px; } }
        #dom-scout-template-controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; } /* Gap Reduzido */
        #dom-scout-template-select { flex: 1; min-width: 180px; padding: 6px 12px; /* Reduzido */ border: none; border-radius: 15px; font-size: 12px; /* Reduzido */ background: rgba(255,255,255,0.9); cursor: pointer; outline: none; }
        #dom-scout-template-select:focus { box-shadow: 0 0 0 2px rgba(255,255,255,0.5); }
        .dom-scout-template-btn { background: rgba(255,255,255,0.25); border: 1px solid rgba(255,255,255,0.4); color: white; padding: 6px 12px; /* Reduzido */ border-radius: 15px; cursor: pointer; font-size: 11px; /* Reduzido */ transition: all 0.3s; font-weight: 500; white-space: nowrap; }
        .dom-scout-template-btn:hover { background: rgba(255,255,255,0.35); transform: translateY(-1px); }
        .dom-scout-template-btn:active { transform: translateY(0); }
        .dom-scout-template-btn.save { background: rgba(78, 205, 196, 0.3); border-color: rgba(78, 205, 196, 0.5); }
        .dom-scout-template-btn.save:hover { background: rgba(78, 205, 196, 0.4); }
        .dom-scout-template-btn.delete { background: rgba(255, 107, 107, 0.3); border-color: rgba(255, 107, 107, 0.5); }
        .dom-scout-template-btn.delete:hover { background: rgba(255, 107, 107, 0.4); }
        .dom-scout-template-info { color: rgba(255,255,255,0.8); font-size: 10px; /* Reduzido */ margin-top: 5px; font-style: italic; }
        .dom-scout-template-placeholder { color: rgba(255,255,255,0.7); background: rgba(255,255,255,0.1); padding: 1px 4px; border-radius: 3px; font-family: 'Courier New', monospace; font-size: 10px; }
        
        /* Template Status Indicator */
        #dom-scout-status-bar {
            display: none; margin-top: 8px; padding: 6px 10px; /* Reduzido */
            background: rgba(0,0,0,0.15); border-radius: 12px;
            color: rgba(255,255,255,0.9); font-size: 11px; /* Reduzido */
            text-align: center;
        }

        #dom-scout-container .dom-scout-info-footer {
             color: rgba(255,255,255,0.7); font-size: 10px; margin-top: 5px;
        }

        .dom-scout-highlight, .dom-scout-highlight-current, .dom-scout-highlight-star { position: relative !important; }
        @media (max-width: 768px) { #dom-scout-container { padding: 8px; } #dom-scout-main { gap: 5px; } .dom-scout-btn { padding: 5px 10px; font-size: 11px; } }
    `,s=document.createElement("style");s.textContent=l,document.head.appendChild(s);let d=function e(){let t=document.createElement("div");return t.id="dom-scout-container",t.style.display="none",t.innerHTML=`
            <div id="dom-scout-wrapper">
                <div id="dom-scout-main">
                    <input 
                        type="text" 
                        id="dom-scout-input" 
                        placeholder="üî≠ Buscar texto na p\xe1gina..." 
                        autocomplete="off"
                        spellcheck="false"
                    />
                    <span id="dom-scout-info">0 resultados</span>
                    <button class="dom-scout-btn" id="dom-scout-clear">Limpar</button>
                    <button class="dom-scout-btn" id="dom-scout-close">Fechar</button>
                </div>
                <div id="dom-scout-options">
                    <label class="dom-scout-option" title="Buscar por elementos HTML (tag, class, id, atributo)">
                        <input type="checkbox" id="opt-html-mode">
                        <span>üè∑Ô∏è HTML</span>
                    </label>
                    <label class="dom-scout-option" id="opt-use-template-label" title="Usar template salvo com placeholder {text}">
                        <input type="checkbox" id="opt-use-template">
                        <span>üìã Template</span>
                    </label>
                    <button class="dom-scout-btn" id="dom-scout-template-options-btn" style="display: none;">Op\xe7\xf5es</button>
                    <label class="dom-scout-option" title="Usar express\xf5es regulares">
                        <input type="checkbox" id="opt-regex">
                        <span>Regex</span>
                    </label>
                    <label class="dom-scout-option" title="Buscar apenas palavras completas">
                        <input type="checkbox" id="opt-whole-words">
                        <span>Palavras</span>
                    </label>
                    <label class="dom-scout-option" title="Diferenciar mai\xfasculas e min\xfasculas">
                        <input type="checkbox" id="opt-case-sensitive">
                        <span>Aa</span>
                    </label>
                    <label class="dom-scout-option" title="Considerar acentos (\xe1 ‚â† a)">
                        <input type="checkbox" id="opt-accent-sensitive">
                        <span>\xc0</span>
                    </label>
                    <label class="dom-scout-option" title="Destacar todos os resultados">
                        <input type="checkbox" id="opt-highlight-all" checked>
                        <span>Todas</span>
                    </label>
                </div>
                <div id="dom-scout-status-bar">
                    Nenhum template carregado.
                </div>
                <div id="dom-scout-templates">
                    <div id="dom-scout-template-controls">
                        <select id="dom-scout-template-select">
                            <option value="">Selecione um template...</option>
                        </select>
                        <button class="dom-scout-template-btn save" id="dom-scout-template-save" title="Salvar query atual como template">üíæ Salvar</button>
                        <button class="dom-scout-template-btn" id="dom-scout-template-load" title="Carregar template selecionado">üì• Carregar</button>
                        <button class="dom-scout-template-btn delete" id="dom-scout-template-delete" title="Excluir template selecionado">üóëÔ∏è Excluir</button>
                        <button class="dom-scout-template-btn" id="dom-scout-template-close">Fechar</button>
                    </div>
                    <div class="dom-scout-template-info" id="dom-scout-template-info">
                        Use <span class="dom-scout-template-placeholder">{text}</span> para placeholders
                    </div>
                </div>
                <div id="dom-scout-error"></div>
                <div class="dom-scout-info-footer" style="color: rgba(255,255,255,0.7); font-size: 10px; margin-top: 5px;">
                    Operadores: < (escopo) > (hierarquia) * (destaque) & (a\xe7\xe3o) | Ctrl+F: pr\xf3ximo | Enter: clicar
                </div>
            </div>
        `,document.body.appendChild(t),t}(),c=document.getElementById("dom-scout-input"),u=document.getElementById("dom-scout-info"),p=document.getElementById("dom-scout-error"),m=document.getElementById("dom-scout-clear"),g=document.getElementById("dom-scout-close"),h=document.getElementById("dom-scout-status-bar"),$=document.getElementById("opt-html-mode"),f=document.getElementById("opt-use-template"),b=document.getElementById("opt-use-template-label"),x=document.getElementById("opt-regex"),_=document.getElementById("opt-whole-words"),v=document.getElementById("opt-case-sensitive"),y=document.getElementById("opt-accent-sensitive"),k=document.getElementById("opt-highlight-all"),E=document.getElementById("dom-scout-templates"),w=document.getElementById("dom-scout-template-select"),C=document.getElementById("dom-scout-template-save"),S=document.getElementById("dom-scout-template-load"),z=document.getElementById("dom-scout-template-delete"),L=document.getElementById("dom-scout-template-options-btn"),T=document.getElementById("dom-scout-template-close");function I(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(e){var t;return a.accentSensitive?e:(t=e).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function B(e){let t=document.createElement("div");t.className="dom-scout-success",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.style.animation="successPopup 0.3s ease-out reverse",setTimeout(()=>t.remove(),300)},1500)}function N(){try{localStorage.setItem(n,JSON.stringify(i))}catch(e){console.error("Erro ao salvar templates:",e),B("‚ùå Erro ao salvar template")}}function M(){w.innerHTML='<option value="">Selecione um template...</option>',i.forEach((e,t)=>{let o=document.createElement("option");o.value=t,o.textContent=e.name,w.appendChild(o)})}function P(){let e=w.value;if(""===e){B("‚ùå Selecione um template");return}let t=i[e];t&&(r=t,a.useTemplate?(c.value="",c.placeholder=`Valor para: ${t.name}`,c.disabled=!1,c.focus(),B("‚úì Template ativo!")):(c.value=t.query,t.htmlMode&&!a.htmlMode&&($.checked=!0,a.htmlMode=!0,Z()),B("‚úì Template carregado!")),A(),O(!1))}function A(){if(!a.htmlMode&&!a.useTemplate){h.style.display="none";return}h.style.display="block",h.textContent=r?`Template: "${r.name}"`:"Nenhum template carregado."}function O(e){E.classList.toggle("active",e);let t=a.useTemplate;C.style.display=t?"none":"inline-block",z.style.display=t?"none":"inline-block"}function D(e){let t=[],o=/(tag|class|id|attr|text):([^\s:]+(?:=[^\s:]+)?)/gi,a,n=!1;for(;null!==(a=o.exec(e));){n=!0;let i=a[1].toLowerCase(),r=a[2],l=r,s=null;if(r.includes("=")){let d=r.split("=");l=d[0],s=d.slice(1).join("=")}t.push({type:i,key:l,value:s})}return n?{filters:t}:{error:"Sintaxe inv\xe1lida"}}document.getElementById("dom-scout-template-info");function q(e,t){for(let{type:o,key:a,value:n}of t)switch(o){case"tag":if(!F(e,a))return!1;break;case"class":if(!U(e,a))return!1;break;case"id":if(!H(e,a))return!1;break;case"attr":if(!W(e,a,n))return!1;break;case"text":if(!Y(e,a))return!1}return!0}function F(e,t){let o=e.tagName.toLowerCase(),n=R(t);if(a.regex)try{return RegExp(n,a.caseSensitive?"":"i").test(o)}catch(i){return!1}return a.caseSensitive?o===n:o===n.toLowerCase()}function U(e,t){if(!e.className||"string"!=typeof e.className)return!1;let o=e.className.split(/\s+/).filter(e=>e),n=R(t);if(a.regex)try{return o.some(e=>RegExp(n,a.caseSensitive?"":"i").test(R(e)))}catch(i){return!1}return o.some(e=>a.caseSensitive?R(e).includes(n):R(e).toLowerCase().includes(n.toLowerCase()))}function H(e,t){if(!e.id)return!1;let o=R(e.id),n=R(t);if(a.regex)try{return RegExp(n,a.caseSensitive?"":"i").test(o)}catch(i){return!1}return a.caseSensitive?o.includes(n):o.toLowerCase().includes(n.toLowerCase())}function W(e,t,o){let n=e.attributes[t];if(!n)return!1;if(null===o)return!0;let i=R(n.value),r=R(o);if(a.regex)try{return RegExp(r,a.caseSensitive?"":"i").test(i)}catch(l){return!1}return a.caseSensitive?i.includes(r):i.toLowerCase().includes(r.toLowerCase())}function Y(e,t){let o=R(e.textContent.trim()),n=R(t);if(!o)return!1;if(a.regex)try{return RegExp(n,a.caseSensitive?"":"i").test(o)}catch(i){return!1}return a.wholeWords?RegExp(`\\b${I(n)}\\b`,a.caseSensitive?"":"i").test(o):a.caseSensitive?o.includes(n):o.toLowerCase().includes(n.toLowerCase())}function G(e){var n;if(a.useTemplate&&r&&(e=(n=e,r?r.query.replace(/\{text\}/g,n):n),r.htmlMode)||a.htmlMode){!function e(n){if(K(),p.textContent="",t=[],o=0,!n){J(0,0);return}let i=function e(t){let o=t.split("&").map(e=>e.trim()),a=o[0],n=o[1]||null,i=null,r=a;if(a.includes("<")){let l=a.split("<").map(e=>e.trim());i=l[0],r=l.slice(1).join("<").trim()}let s=null;if(i){let d=D(i);if(d.error)return d;s=d.filters}let c=r.split(">").map(e=>e.trim()),u=[],p=-1;c.forEach((e,t)=>{let o=e.includes("*");o&&(p=t,e=e.replace(/\*/g,"").trim());let a=D(e);if(a.error){u.push({error:a.error});return}u.push({filters:a.filters,highlight:o,level:t})});let m=u.find(e=>e.error);if(m)return{error:m.error};let g=null;if(n){let h=D(n);if(h.error)return h;g=h.filters}return -1===p&&u.length>0&&(u[p=u.length-1].highlight=!0),{scope:s,hierarchy:u,highlightIndex:p,action:g}}(n);if(i.error){p.textContent=`‚ùå ${i.error}`,J(0,0);return}let r=[document.body];if(i.scope&&(r=[],document.querySelectorAll("*").forEach(e=>{!e.closest("#dom-scout-container")&&q(e,i.scope)&&r.push(e)}),0===r.length)){p.textContent="‚ö†Ô∏è Escopo n\xe3o encontrado",J(0,0);return}let l=[];r.forEach(e=>l.push(...function e(t,o){let a=[],{hierarchy:n,highlightIndex:i,action:r}=o;return 0===n.length||function e(t,o,l){if(o>=n.length){let s=l[i];if(!s)return;let d=null;if(r){for(let c of s.querySelectorAll("*"))if(q(c,r)){d=c;break}}a.push({element:s,actionElement:d,isStarred:n[i]?.highlight||!1});return}let{filters:u}=n[o];for(let p of t)for(let m of p.querySelectorAll("*"))if(!m.closest("#dom-scout-container")&&q(m,u)){let g=[...l];g[o]=m,e([m],o+1,g)}}([t],0,[]),a}(e,i))),t=l.filter((e,t,o)=>o.findIndex(t=>t.element===e.element)===t).map(e=>({element:e.element,count:1,actionElement:e.actionElement,isStarred:e.isStarred})).sort((e,t)=>e.element.compareDocumentPosition(t.element)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1),a.highlightAll&&t.forEach((e,t)=>j(e.element,t+1,e.count,!1,e.actionElement,e.isStarred)),J(t.length,1),t.length>0&&V(0)}(e);return}if(K(),p.textContent="",t=[],o=0,!e){J(0,0);return}let i=function e(t){try{let o=a.regex?t:I(t);a.wholeWords&&!a.regex&&(o=`\\b${o}\\b`);let n="g";return a.caseSensitive||(n+="i"),RegExp(o,n)}catch(i){return null}}(R(e));if(!i){p.textContent="‚ùå Regex inv\xe1lida",J(0,0);return}let l=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,{acceptNode:e=>!e.parentElement.closest("#dom-scout-container, SCRIPT, STYLE")&&e.textContent.trim()?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),s=new Map,d;for(;d=l.nextNode();){if(i.test(R(d.textContent))){let c=d.parentElement;s.set(c,(s.get(c)||0)+1)}i.lastIndex=0}t=Array.from(s.entries()).map(([e,t])=>({element:e,count:t,actionElement:null,isStarred:!1})).sort((e,t)=>e.element.compareDocumentPosition(t.element)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1),a.highlightAll&&t.forEach((e,t)=>j(e.element,t+1,e.count,!1,null,!1)),J(t.length,1),t.length>0&&V(0)}function j(e,t,o,a,n,i){e.classList.add("dom-scout-highlight"),i&&e.classList.add("dom-scout-highlight-star"),a&&e.classList.add("dom-scout-highlight-current");let r=document.createElement("div");if(r.className=`dom-scout-badge ${a?"dom-scout-badge-current":""} ${i?"dom-scout-badge-star":""}`,r.textContent=o>1?`${t} (${o}\xd7)`:t,r.dataset.domScoutBadge="true","static"===window.getComputedStyle(e).position&&(e.style.position="relative"),e.appendChild(r),n&&a){let l=document.createElement("div");l.className="dom-scout-action-badge",l.textContent="‚ö° A\xc7\xc3O",l.dataset.domScoutActionBadge="true",e.appendChild(l)}}function K(){document.querySelectorAll(".dom-scout-highlight, .dom-scout-highlight-star").forEach(e=>{e.classList.remove("dom-scout-highlight","dom-scout-highlight-current","dom-scout-highlight-star"),e.querySelectorAll("[data-dom-scout-badge], [data-dom-scout-action-badge]").forEach(e=>e.remove())})}function V(e){if(0===t.length)return;if(t[o]){let n=t[o].element;n.classList.remove("dom-scout-highlight-current"),n.querySelector(".dom-scout-badge")?.classList.remove("dom-scout-badge-current"),n.querySelector("[data-dom-scout-action-badge]")?.remove()}o=(e+t.length)%t.length;let{element:i,count:r,actionElement:l,isStarred:s}=t[o];if(a.highlightAll){if(i.classList.add("dom-scout-highlight-current"),i.querySelector(".dom-scout-badge")?.classList.add("dom-scout-badge-current"),l){let d=document.createElement("div");d.className="dom-scout-action-badge",d.textContent="‚ö° A\xc7\xc3O",d.dataset.domScoutActionBadge="true",i.appendChild(d)}}else K(),j(i,o+1,r,!0,l,s);i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),J(t.length,o+1)}function X(){if(0===t.length)return;let{actionElement:e,element:a}=t[o],n=e||a;n&&(n.click(),B(`‚úì A\xe7\xe3o executada`))}function J(e,t){u.textContent=0===e?"Nenhum resultado":`${t} de ${e}`}function Q(){d.style.display="none",K(),e=!1}function Z(){let e=a.htmlMode;b.classList.toggle("disabled",!e),!e&&a.useTemplate&&(f.checked=!1,a.useTemplate=!1),L.style.display=e?"inline-block":"none",_.parentElement.classList.toggle("disabled",e),_.disabled=e,A(),c.disabled=a.useTemplate&&!r,a.useTemplate?c.placeholder=r?`Valor para: ${r.name}`:"Carregue um template":a.htmlMode?c.placeholder="tag:div > *span > text:valor & button":c.placeholder="\uD83D\uDD2D Buscar texto na p\xe1gina...",e||a.useTemplate||O(!1)}document.addEventListener("keydown",a=>{let n=a.target;("INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName||"dom-scout-input"===n.id)&&((a.ctrlKey||a.metaKey)&&"f"===a.key&&(a.preventDefault(),e?t.length>0&&V(o+1):(d.style.display="block",c.focus(),c.select(),e=!0)),a.shiftKey&&"F"===a.key&&e&&(a.preventDefault(),t.length>0&&V(o-1)),"Escape"===a.key&&e&&Q(),e&&!c.contains(n)&&("Enter"===a.key||" "===a.key)&&(a.preventDefault(),X()))}),c.addEventListener("keydown",e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),X())});let ee;c.addEventListener("input",e=>{clearTimeout(ee),ee=setTimeout(()=>G(e.target.value),300)}),$.addEventListener("change",()=>{a.htmlMode=$.checked,a.htmlMode||(f.checked=!1,a.useTemplate=!1),Z(),c.value&&G(c.value)}),f.addEventListener("change",()=>{if(f.checked&&!a.htmlMode){f.checked=!1,B('‚ùå Ative "HTML" primeiro');return}a.useTemplate=f.checked,Z(),a.useTemplate&&O(!0)}),[x,_,v,y,k].forEach(e=>{e.addEventListener("change",e=>{let t=e.target.id.replace("opt-","").replace(/-./g,e=>e[1].toUpperCase());a[t]=e.target.checked,c.value&&G(c.value)})}),L.addEventListener("click",()=>O(!0)),T.addEventListener("click",()=>O(!1)),C.addEventListener("click",function e(){let t=c.value.trim();if(!t){B("‚ùå Digite uma query primeiro");return}let o=prompt("Nome do template:","");if(!o)return;let n={name:o.trim(),query:t,htmlMode:a.htmlMode,timestamp:Date.now()};i.push(n),N(),M(),B("‚úì Template salvo!"),O(!1)}),S.addEventListener("click",P),z.addEventListener("click",function e(){let t=w.value;if(""===t){B("‚ùå Selecione um template");return}let o=i[t];confirm(`Excluir template "${o.name}"?`)&&(i.splice(t,1),N(),M(),r===o&&(r=null,A(),a.useTemplate&&(c.disabled=!0,c.placeholder="Carregue um template")),B("‚úì Template exclu\xeddo!"),O(!1))}),w.addEventListener("change",()=>{a.useTemplate&&w.value&&P()}),m.addEventListener("click",()=>{c.value="",K(),p.textContent="",J(0,0),c.focus()}),g.addEventListener("click",Q),M(),Z(),console.log("%c\uD83D\uDD2D DOM Scout v4.2 instalado!","color: #667eea; font-size: 18px; font-weight: bold;"),console.log("%c‚ú® UI mais compacta e textos de op\xe7\xf5es abreviados.","color: #4ecdc4; font-size: 14px;"),console.log("%c‚å®Ô∏è  Ctrl+F: Abrir/Pr\xf3ximo | Shift+F: Anterior | Enter: Clicar | ESC: Fechar","color: #ffd93d;")}();
